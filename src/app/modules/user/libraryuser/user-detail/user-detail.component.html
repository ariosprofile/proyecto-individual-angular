<div class="user-detail-container">
    <h2>Detalles del Usuario</h2>
    @if (user) {
    <form [formGroup]="updateUserForm" (submit)="onSubmit()">
      <div class="form-group">
        <label for="userName">Nombre de Usuario:</label>
        <input type="text" id="userName"  name="userName" class="form-control" [(ngModel)]="user.userName" formControlName="userName" [maxlength]="6"/>
        @if (updateUserForm.get('userName')?.touched && updateUserForm.get('userName')?.invalid) {
          @if (updateUserForm.get('userName')?.errors?.['required']) {
            <small class="text-danger">No puede dejar en blanco el nombre de usuario.</small>
          }
          @if (updateUserForm.get('userName')?.errors?.['minlength']) {
            <small class="text-danger" >El nombre de usuario debe tener al menos 4 caracteres.</small>
          }  
        }  
      </div>
  
      <div class="form-group">
        <label for="email">Correo Electrónico:</label>
        <input type="email" id="email"  name="email" class="form-control" formControlName="email" readonly />
      </div>
      
      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input type="password" id="password"  name="password" class="form-control" [(ngModel)]="user.password" formControlName="password"/>
        @if (updateUserForm.get('password')?.touched && updateUserForm.get('password')?.invalid) {
          @if (updateUserForm.get('password')?.errors?.['required']) {
            <small class="text-danger">No puede dejar la contraseña vacía.</small>
          }
          @if (updateUserForm.get('password')?.errors?.['minlength']) {
            <small class="text-danger">La contraseña debe contener 4 caracteres como mínimo.</small>
          }
        }
      </div>

      <div class="form-group">
        <label for="creditCard">Tarjeta de crédito:</label>
        <input type="creditCard" id="creditCard"  name="creditCard" class="form-control" [(ngModel)]="user.creditCard" formControlName="creditCard" [maxlength]="16"/>
        @if (updateUserForm.get('creditCard')?.touched && updateUserForm.get('creditCard')?.invalid) {
          @if (updateUserForm.get('creditCard')?.errors?.['minlength']) {
            <small class="text-danger">Introduzca una tarjeta válida de 16 dígitos.</small>
          }
        }
      </div>
  
      <div class="form-group">
        <label for="address">Dirección:</label>
        <input type="text" id="address" name="address" class="form-control" [(ngModel)]="user.address" formControlName="address"/>
      </div>
  
      <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    </form>
    }
  </div>
  